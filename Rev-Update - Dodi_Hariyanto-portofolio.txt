<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dodi Hariyanto - Supply Chain & Logistics Professional Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #020617; /* slate-950 */
            color: #94a3b8; /* slate-400 */
        }
        #hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            display: block;
        }
        .content-wrapper {
            position: relative;
            z-index: 1;
        }
        .animated-card {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .animated-card.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -30px;
            top: 4px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #0f172a; /* slate-900 */
            border: 4px solid #06b6d4; /* cyan-500 */
            z-index: 1;
        }
        .timeline-line {
            position: absolute;
            left: -21px;
            top: 4px;
            bottom: 0;
            width: 2px;
            background-color: #1e293b; /* slate-800 */
        }
        .glass-effect {
            background: rgba(15, 23, 42, 0.6); /* slate-900 with opacity */
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(30, 41, 59, 0.5); /* slate-800 with opacity */
        }
        .chart-container {
            position: relative;
            height: 250px;
        }
        .icon-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .org-chart-node {
            display: inline-block;
            background-color: #334155;
            color: #cbd5e1;
            padding: 1rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 500;
            text-align: center;
            border: 1px solid #475569;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        .org-chart-node:hover {
            transform: scale(1.05);
        }
        .org-chart-line {
            height: 2rem;
            width: 2px;
            background-color: #475569;
            margin: 0 auto;
            animation: fadeIn 1s ease-in;
        }
        .org-chart-line-horizontal {
            width: 100%;
            height: 2px;
            background-color: #475569;
            animation: fadeIn 1.5s ease-in;
        }
        .org-chart-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .org-chart-row {
            display: flex;
            justify-content: space-around;
            width: 100%;
            padding-top: 1rem;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* NEW CSS for Manufacturing, Logistics, Warehousing and ML Animations */
        .simulation-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
        }

        @media (min-width: 768px) {
            .simulation-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .simulation-container {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .simulation-box {
            position: relative;
            height: 250px;
            background-color: rgba(15, 23, 42, 0.7);
            border-radius: 12px;
            border: 2px solid #06b6d4;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            overflow: hidden;
        }
        .sim-canvas {
            width: 100%;
            height: 100%;
        }

        /* --- Logistics Animation (simplified for efficiency) --- */
        @keyframes moveRightLeft {
            0% { left: -10%; transform: rotateY(0deg); }
            49% { left: 110%; transform: rotateY(0deg); }
            50% { left: 110%; transform: rotateY(180deg); }
            99% { left: -10%; transform: rotateY(180deg); }
            100% { left: -10%; transform: rotateY(0deg); }
        }
        .transport-icon {
            position: absolute;
            font-size: 2.5rem;
            animation-duration: 20s;
            animation-timing-function: linear;
            animation-iteration-count: infinite;
        }
        .truck-anim { bottom: 20px; animation-name: moveRightLeft; }
        .ship-anim { bottom: 50px; animation-name: moveRightLeft; animation-duration: 25s; }
        .plane-anim { top: 20px; animation-name: moveRightLeft; animation-duration: 18s; }
    </style>
</head>
<body class="antialiased">

    <!-- Header Section -->
    <header class="bg-slate-950/80 backdrop-blur-sm fixed top-0 left-0 right-0 z-50 border-b border-slate-800">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-white">Dodi Hariyanto</a>
            <nav class="hidden md:flex space-x-6">
                <a href="#about" class="text-slate-300 hover:text-cyan-400 transition-colors">About</a>
                <a href="#achievements" class="text-slate-300 hover:text-cyan-400 transition-colors">Achievements</a>
                <a href="#competencies" class="text-slate-300 hover:text-cyan-400 transition-colors">Core Competencies</a>
                <a href="#projects" class="text-slate-300 hover:text-cyan-400 transition-colors">Projects</a>
                <a href="#experience" class="text-slate-300 hover:text-cyan-400 transition-colors">Experience</a>
                <a href="#simulation" class="text-slate-300 hover:text-cyan-400 transition-colors">Project Simulation</a>
                <a href="#education" class="text-slate-300 hover:text-cyan-400 transition-colors">Education</a>
                <a href="#certs" class="text-slate-300 hover:text-cyan-400 transition-colors">Certifications</a>
                <a href="#publications" class="text-slate-300 hover:text-cyan-400 transition-colors">Publications</a>
                <a href="#org-structure" class="text-slate-300 hover:text-cyan-400 transition-colors">Org Structure</a>
                <a href="#ask-dodi" class="text-slate-300 hover:text-cyan-400 transition-colors">Ask Dodi</a>
            </nav>
        </div>
    </header>

    <main class="content-wrapper">
        <!-- Hero Section -->
        <section id="hero" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden">
            <canvas id="hero-canvas"></canvas>
            <div class="container mx-auto px-6 z-10">
                <img src="https://storage.googleapis.com/taldio-uploads/taldio/talent_answer/8c92d8f0-ae2f-436c-aa2b-ca43dcad4078.png" alt="Profile Picture of Dodi Hariyanto" class="w-40 h-40 rounded-full mx-auto mb-6 border-4 border-cyan-500/50 shadow-2xl shadow-cyan-500/20">
                <h1 class="text-4xl md:text-6xl font-extrabold text-white leading-tight mb-4">Dodi Hariyanto</h1>
                <p class="text-xl md:text-2xl text-cyan-400 mb-8 font-medium">Logistics & Supply Chain Professional</p>
                <div class="flex justify-center space-x-6">
                    <a href="https://www.linkedin.com/in/dodi-120251196/" target="_blank" class="text-slate-300 hover:text-cyan-400 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                    </a>
                    <a href="mailto:dodihariyanto580@gmail.com" class="text-slate-300 hover:text-cyan-400 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
                    </a>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-24 bg-slate-900">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">About Me</h2>
                <p class="max-w-3xl mx-auto text-lg">
                    A senior logistics and supply chain leader with over 15 years of experience optimizing global operations across the energy, medical device, manufacturing, and engineering industries. I have successfully delivered up to 15% cost reduction, enhanced delivery accuracy to 98%, and led digital integration projects that improved warehouse efficiency by 30%. With deep expertise in procurement strategy, bonded zone compliance, and supply chain innovation, I specialize in aligning digital transformation with strategic business goals. My mission is to drive sustainable efficiency, resilience, and innovation in complex global supply chains.
                </p>
            </div>
        </section>

        <!-- Key Achievements Section -->
        <section id="achievements" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Key Achievements</h2>
                    <p class="text-lg mt-4">Proven results in cost reduction, compliance, and strategic development.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="animated-card glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">SEZ Tax Exemption</h3>
                        <p>Secured a critical IT Inventory Permit for a Special Economic Zone (SEZ), achieving full tax exemption on imported goods.</p>
                    </div>
                     <div class="animated-card glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">20%+ Cost Reduction</h3>
                        <p>Led a strategic import project for lithium batteries, successfully reducing project expenses by over 20% through regulatory optimization.</p>
                    </div>
                     <div class="animated-card glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">APAC Logistics Hub</h3>
                        <p>Architected and established a fully functional SEZ logistics hub to manage regional distribution across the Asia-Pacific.</p>
                    </div>
                     <div class="animated-card glass-effect p-6 rounded-lg">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">100% Compliance</h3>
                        <p>Consistently maintained a perfect compliance record with complex SEZ regulations, including BC2.5-BC4.0, INSW, and CEISA.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Core Competencies Section -->
        <section id="competencies" class="py-24 bg-slate-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Core Competencies</h2>
                    <p class="text-lg mt-4 max-w-3xl mx-auto">Expertise that drives strategic decisions and operational excellence.</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="animated-card glass-effect p-6 rounded-lg text-center">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">COGM & COGS Analysis</h3>
                        <p>Skilled in analyzing Costs of Goods Manufactured (COGM) and Costs of Goods Sold (COGS) to identify and implement cost-saving opportunities and improve profitability.</p>
                    </div>
                    <div class="animated-card glass-effect p-6 rounded-lg text-center">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">Budgeting & Financial Planning</h3>
                        <p>Experienced in developing and managing departmental and project budgets to ensure financial targets are met and resources are allocated efficiently.</p>
                    </div>
                    <div class="animated-card glass-effect p-6 rounded-lg text-center">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">Forecasting & Demand Planning</h3>
                        <p>Adept at using historical data and market trends to create accurate forecasts, ensuring optimal inventory levels and preventing stockouts or overstocking.</p>
                    </div>
                    <div class="animated-card glass-effect p-6 rounded-lg text-center">
                        <h3 class="text-xl font-bold text-cyan-400 mb-2">Customer Service Excellence</h3>
                        <p>Dedicated to delivering exceptional service by managing customer expectations, resolving issues efficiently, and building long-term relationships through reliable logistics solutions.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Supply Chain Projects Section -->
        <section id="projects" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Supply Chain Projects</h2>
                    <p class="text-lg mt-4 max-w-3xl mx-auto">Here's a look at my strategic initiatives in cost optimization and operational efficiency.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                     <!-- New Project: Global Supply Chain Project -->
                     <div class="animated-card glass-effect p-8 rounded-lg">
                         <h3 class="text-2xl font-bold text-cyan-400 mb-4">Global Supply Chain & Local Sourcing Project</h3>
                         <p class="mb-4">
                             Spearheaded a global project to establish a new product manufacturing line in Indonesia. Developed a strategic plan for raw material procurement, focusing on local sourcing to reduce costs. Managed the inventory of finished goods at the APAC logistics hub for distribution to Asia and Europe.
                         </p>
                         <div class="chart-container">
                             <canvas id="globalSourcingChart"></canvas>
                         </div>
                         <p class="text-sm mt-4 text-center">
                             Breakdown of raw material sourcing, demonstrating the shift towards more cost-effective local suppliers.
                         </p>
                     </div>

                     <!-- Project 1: Cost Reduction Project -->
                     <div class="animated-card glass-effect p-8 rounded-lg">
                         <h3 class="text-2xl font-bold text-cyan-400 mb-4">Cost Reduction Project</h3>
                         <p class="mb-4">
                             Implemented a comprehensive cost reduction program targeting procurement, logistics, and warehousing.
                         </p>
                         <div class="chart-container">
                             <canvas id="costReductionChart"></canvas>
                         </div>
                         <p class="text-sm mt-4 text-center">
                             Comparison of total supply chain costs before and after project implementation. Achieved a significant reduction by optimizing vendor contracts and process flows.
                         </p>
                     </div>

                     <!-- Project 2: New Product Development & Supplier Sourcing -->
                     <div class="animated-card glass-effect p-8 rounded-lg">
                         <h3 class="text-2xl font-bold text-cyan-400 mb-4">New Product & Supplier Development</h3>
                         <p class="mb-4">
                             Developed a new product introduction process that streamlined supplier onboarding, significantly increasing the availability of raw material suppliers.
                         </p>
                         <div class="chart-container">
                             <canvas id="supplierCountChart"></canvas>
                         </div>
                         <p class="text-sm mt-4 text-center">
                             The number of new suppliers successfully onboarded over a 6-month period, demonstrating an an expanded supplier base.
                         </p>
                     </div>

                     <!-- Project 3: Combined Transport Cost Reduction -->
                     <div class="animated-card glass-effect p-8 rounded-lg">
                         <h3 class="text-2xl font-bold text-cyan-400 mb-4">Combined Transport Cost Reduction</h3>
                         <p class="mb-4">
                             Pioneered a combined transport method for shipments, leveraging sea-air or multi-modal routes to reduce overall freight costs while maintaining delivery timelines.
                         </p>
                         <div class="chart-container">
                             <canvas id="shippingCostChart"></canvas>
                         </div>
                         <p class="text-sm mt-4 text-center">
                             Breakdown of transportation cost savings achieved through the implementation of a new combined transport strategy.
                         </p>
                         <!-- Animated Logistic Icon -->
                         <div class="icon-container mt-4">
                             <svg class="truck-animation" width="80" height="40" viewBox="0 0 100 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <path d="M5 30H95V40H5V30Z" fill="#CBD5E1"/>
                                 <rect x="75" y="25" width="20" height="5" fill="#475569"/>
                                 <rect x="5" y="15" width="90" height="15" fill="#475569"/>
                                 <circle cx="20" cy="40" r="5" fill="#1E293B"/>
                                 <circle cx="75" cy="40" r="5" fill="#1E293B"/>
                             </svg>
                         </div>
                     </div>
                </div>
            </div>
        </section>

        <!-- Work Experience Section -->
        <section id="experience" class="py-24 bg-slate-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Work Experience</h2>
                    <p class="text-lg mt-4">A journey of growth and impact across diverse industries.</p>
                </div>
                <div class="relative max-w-3xl mx-auto pl-8">
                    <div class="timeline-line"></div>
                    <div class="space-y-12">
                        <!-- Newest Experience -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">2024 - Jul 2025</p>
                            <h3 class="text-xl font-bold text-white mt-1">Operations & Supply Chain Manager</h3>
                            <p class="text-slate-300 font-medium">PT Beurer Indonesia Technology <span class="text-xs bg-cyan-900 text-cyan-300 py-1 px-2 rounded-full ml-2">Medical Devices</span></p>
                            <p class="mt-2">Developed SEZ logistics strategies for an APAC distribution center, managing licensing, customs, procurement, and regional stock readiness. Successfully led a cost reduction project that optimized procurement and reduced overall expenditures by 15% through strategic negotiation and process improvements.</p>
                        </div>
                        <!-- Experience Item -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">2023 - 2024</p>
                            <h3 class="text-xl font-bold text-white mt-1">Logistic Manager</h3>
                            <p class="text-slate-300 font-medium">PT LBM Energi Baru Indonesia <span class="text-xs bg-cyan-900 text-cyan-300 py-1 px-2 rounded-full ml-2">Energy</span></p>
                            <p class="mt-2">Led end-to-end SEZ logistics, managing customs, inventory, and 3PLs while optimizing raw material supply for production. Implemented a new supplier development program, onboarding 10+ new, high-quality suppliers within 6 months to ensure material availability and reduce lead times.</p>
                        </div>
                         <!-- Experience Item -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">Jul 2022 - May 2023</p>
                            <h3 class="text-xl font-bold text-white mt-1">Logistic Manager and Supply Chain- Contract Project</h3>
                            <p class="text-slate-300 font-medium">PT Solid Energi Internasional, Jakarta</p>
                            <p class="mt-2">Directed end-to-end supply chain planning, procurement, inventory, and warehouse management. Oversaw logistics operations, quality control, and financial planning, including cost-saving and budgeting initiatives. Ensured compliance with international trade regulations and managed full export-import documentation. Led purchasing, vendor management, and regional supply alignment.</p>
                        </div>
                        <!-- Experience Item -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">Nov 2021 - Jun 2022</p>
                            <h3 class="text-xl font-bold text-white mt-1">Logistic Supervisor - Contract Project</h3>
                            <p class="text-slate-300 font-medium">PT Taka Turbomachinery Indonesia, Bandung</p>
                            <p class="mt-2">Managed export-import and domestic shipments, and led end-to-end warehouse operations, including receiving, storage, inventory control, and outbound delivery. Ensured stock accuracy, on-time dispatch, and space optimization. Coordinated closely with production and customer service to align with sales and production plans. Oversaw daily logistics execution and ensured operational efficiency, safety, and compliance.</p>
                        </div>
                         <!-- Voith Experience (Updated to be more detailed) -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">Dec 2018 - Aug 2021</p>
                            <h3 class="text-xl font-bold text-white mt-1">Logistic Supervisor</h3>
                            <p class="text-slate-300 font-medium">PT Voith Paper Rolls Indonesia, Karawang <span class="text-xs bg-cyan-900 text-cyan-300 py-1 px-2 rounded-full ml-2">Engineering</span></p>
                            <p class="mt-2">At a leading engineering company, I spearheaded procurement and logistics for a diverse range of projects. My responsibilities included managing international and heavy-cargo shipments, ensuring seamless operations for complex projects. I also focused on optimizing internal processes, resulting in a 10% reduction in transportation costs by implementing a combined transport system. This role also involved hands-on warehouse management, where I redesigned the layout to increase storage capacity by 20% while improving material flow and efficiency.</p>
                        </div>
                        <!-- Experience Item -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">2013 - 2021</p>
                            <h3 class="text-xl font-bold text-white mt-1">Logistic & Purchasing Supervisor</h3>
                            <p class="text-slate-300 font-medium">PT Epiterma Mas Indonesia & PT Voith Paper Rolls <span class="text-xs bg-cyan-900 text-cyan-300 py-1 px-2 rounded-full ml-2">Manufacturing</span></p>
                            <p class="mt-2">Oversaw full-cycle procurement, vendor management, and complex logistics including heavy cargo and international shipments. Successfully managed a cost reduction initiative that reduced overall expenses by 15% through strategic negotiation and process improvements.</p>
                        </div>
                        <!-- Experience Item -->
                        <div class="animated-card timeline-item relative">
                            <p class="text-cyan-400 font-semibold">2007 - 2010</p>
                            <h3 class="text-xl font-bold text-white mt-1">Warehouse Data Entry</h3>
                            <p class="text-slate-300 font-medium">PT Elnusa Petrofin <span class="text-xs bg-cyan-900 text-cyan-300 py-1 px-2 rounded-full ml-2">Oil & Gas Services</span></p>
                            <p class="mt-2">Managed inventory and data entry for seismic exploration projects, ensuring accurate stock control and coordinating with field crews.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Project Simulation Section (Updated with new animations) -->
        <section id="simulation" class="py-24">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold text-white">Supply Chain & Digital Simulation</h2>
                    <p class="text-lg mt-4 max-w-3xl mx-auto">Visual models of manufacturing, warehousing, global transportation, and machine learning processes.</p>
                </div>
                <div class="simulation-container">
                    <!-- Realistic Manufacturing Animation (3D) -->
                    <div class="animated-card glass-effect p-4 rounded-lg flex flex-col justify-between">
                        <h3 class="text-xl font-semibold text-white mb-2 text-center">Manufacturing Process</h3>
                        <div class="simulation-box">
                            <canvas id="manufacturing-canvas" class="sim-canvas"></canvas>
                        </div>
                    </div>

                    <!-- Warehousing Animation (3D) -->
                    <div class="animated-card glass-effect p-4 rounded-lg flex flex-col justify-between">
                        <h3 class="text-xl font-semibold text-white mb-2 text-center">Warehousing Activity</h3>
                        <div class="simulation-box">
                            <canvas id="warehousing-canvas" class="sim-canvas"></canvas>
                        </div>
                    </div>

                    <!-- Transportation Animation (2D) -->
                    <div class="animated-card glass-effect p-4 rounded-lg flex flex-col justify-between">
                        <h3 class="text-xl font-semibold text-white mb-2 text-center">Global Logistics</h3>
                        <div class="simulation-box">
                            <span class="transport-icon truck-anim">🚚</span>
                            <span class="transport-icon ship-anim">🚢</span>
                            <span class="transport-icon plane-anim">✈️</span>
                        </div>
                    </div>

                    <!-- Machine Learning Animation (2D) -->
                    <div class="animated-card glass-effect p-4 rounded-lg flex flex-col justify-between">
                        <h3 class="text-xl font-semibold text-white mb-2 text-center">Machine Learning Model</h3>
                        <div class="simulation-box">
                            <canvas id="ml-canvas" class="sim-canvas"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Education Section -->
        <section id="education" class="py-24 bg-slate-900">
             <div class="container mx-auto px-6">
                 <div class="text-center mb-16">
                     <h2 class="text-3xl md:text-4xl font-bold text-white">Education</h2>
                     <p class="text-lg mt-4">My academic foundation in business, logistics, and technology.</p>
                 </div>
                 <div class="max-w-4xl mx-auto grid md:grid-cols-3 gap-8">
                     <div class="animated-card glass-effect p-6 rounded-lg text-center">
                         <h3 class="text-lg font-bold text-white">Master of Logistics Management</h3>
                         <p class="text-cyan-400">Universitas Logistik & Bisnis Internasional</p>
                         <p class="text-sm mt-1">(In Progress)</p>
                     </div>
                     <div class="animated-card glass-effect p-6 rounded-lg text-center">
                         <h3 class="text-lg font-bold text-white">Bachelor of Management</h3>
                         <p class="text-cyan-400">Universitas Pertiwi</p>
                     </div>
                     <div class="animated-card glass-effect p-6 rounded-lg text-center">
                         <h3 class="text-lg font-bold text-white">Diploma in Computer Engineering</h3>
                         <p class="text-cyan-400">Universitas Komputer Indonesia</p>
                     </div>
                 </div>
             </div>
         </section>

         <!-- Certifications Section -->
         <section id="certs" class="py-24">
             <div class="container mx-auto px-6">
                 <div class="text-center mb-16">
                     <h2 class="text-3xl md:text-4xl font-bold text-white">Certifications & Training</h2>
                     <p class="text-lg mt-4">Committed to continuous learning and professional development.</p>
                 </div>
                 <div class="max-w-5xl mx-auto grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 text-center">
                     <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">IATA Dangerous Goods</p>
                         <p class="text-xs text-slate-400">(Valid until 2027)</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">Lean Six Sigma</p>
                         <p class="text-xs text-slate-400">Yellow Belt</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">ISO 9001 & 13485</p>
                         <p class="text-xs text-slate-400">Internal Auditor</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">Int'l Supply Chain</p>
                         <p class="text-xs text-slate-400">Management</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">Import Policy</p>
                         <p class="text-xs text-slate-400">Government of Indonesia</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">Freight Forwarding</p>
                         <p class="text-xs text-slate-400">Management</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">Customs & Tax</p>
                         <p class="text-xs text-slate-400">Management</p>
                     </div>
                      <div class="animated-card glass-effect p-4 rounded-lg flex flex-col items-center justify-center">
                         <p class="font-semibold text-white">Bonded Zone</p>
                         <p class="text-xs text-slate-400">Regulations</p>
                     </div>
                 </div>
             </div>
         </section>

         <!-- Publications Section -->
         <section id="publications" class="py-24 bg-slate-900">
             <div class="container mx-auto px-6">
                 <div class="text-center mb-16">
                     <h2 class="text-3xl md:text-4xl font-bold text-white">Publications</h2>
                     <p class="text-lg mt-4">Contributing to the advancement of supply chain knowledge.</p>
                 </div>
                 <div class="max-w-4xl mx-auto space-y-8">
                     <div class="animated-card glass-effect p-6 rounded-lg">
                         <p class="text-cyan-400 font-semibold text-lg mb-2">
                             Analysis of Cost Optimization Strategies in Cross-Border Logistics
                         </p>
                         <p class="text-sm">
                             An academic paper exploring the impact of strategic planning and regulatory compliance on reducing logistics costs for international trade.
                         </p>
                     </div>
                     <div class="animated-card glass-effect p-6 rounded-lg">
                         <p class="text-cyan-400 font-semibold text-lg mb-2">
                             The Role of Technology in Modern Warehouse Management
                         </p>
                         <p class="text-sm">
                             A research article discussing how digital transformation, including WMS and automation, can improve inventory accuracy and operational efficiency.
                         </p>
                     </div>
                 </div>
             </div>
         </section>

         <!-- Org Structure Section -->
         <section id="org-structure" class="py-24">
             <div class="container mx-auto px-6 text-center">
                 <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">Organizational Structure</h2>
                 <p class="max-w-3xl mx-auto text-lg mb-12">
                     A visual representation of the team and management structure I have led or been a part of.
                 </p>
                 <div class="max-w-4xl mx-auto">
                     <!-- Director -->
                     <div class="org-chart-node mx-auto animated-card">Director</div>
                     <div class="org-chart-line animated-card"></div>
                     
                     <!-- Logistics Manager -->
                     <div class="org-chart-node mx-auto bg-cyan-600 text-white animated-card">Logistics Manager</div>
                     <div class="org-chart-line animated-card"></div>
                     
                     <!-- Team of subordinates -->
                     <div class="flex justify-center items-center relative py-4">
                         <div class="org-chart-line-horizontal absolute left-0 right-0 top-1/2"></div>
                         <div class="org-chart-line"></div>
                         <div class="org-chart-line"></div>
                         <div class="org-chart-line"></div>
                     </div>
                     
                     <div class="org-chart-row">
                         <!-- Individual staff -->
                         <div class="org-chart-group animated-card">
                             <div class="org-chart-node">EXIM Staff</div>
                         </div>
                         <div class="org-chart-group animated-card">
                             <div class="org-chart-node">Purchasing Staff</div>
                         </div>
                         <div class="org-chart-group animated-card">
                             <div class="org-chart-node">Sales Admin</div>
                         </div>
                     </div>
                     
                     <div class="org-chart-line animated-card"></div>
                     
                     <!-- Warehouse Team -->
                     <div class="org-chart-group animated-card">
                         <div class="org-chart-node">Warehouse Team</div>
                         <div class="org-chart-line animated-card"></div>
                         <div class="flex justify-around items-start w-full">
                             <div class="org-chart-group animated-card">
                                 <div class="org-chart-node">2 Warehouse Officers</div>
                             </div>
                             <div class="org-chart-group animated-card">
                                 <div class="org-chart-node">2 Forklift Operators</div>
                             </div>
                             <div class="org-chart-group animated-card">
                                 <div class="org-chart-node">7 Warehouse Operators</div>
                             </div>
                         </div>
                     </div>
                 </div>
             </div>
         </section>

         <!-- Ask Dodi Section -->
         <section id="ask-dodi" class="py-24 bg-slate-900">
             <div class="container mx-auto px-6 text-center">
                 <h2 class="text-3xl md:text-4xl font-bold text-white mb-6">Ask Dodi</h2>
                 <p class="max-w-3xl mx-auto text-lg mb-8">
                     Have a question about supply chain strategy, logistics, or project management? Ask me anything below, and I'll provide an expert response.
                 </p>
                 <div class="max-w-2xl mx-auto bg-slate-800 rounded-lg p-6 glass-effect">
                     <div id="chat-messages" class="h-64 overflow-y-auto mb-4 p-4 border border-slate-700 rounded-lg text-left text-slate-300">
                         <!-- Chat messages will be appended here -->
                     </div>
                     <div class="flex items-center space-x-4">
                         <input type="text" id="questionInput" placeholder="What are the key considerations for bonded zone compliance?" class="flex-1 bg-slate-700 text-white p-3 rounded-lg border border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-500">
                         <button id="submitBtn" class="bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg transition-colors">
                             Ask
                         </button>
                     </div>
                     <div id="loading-spinner" class="mt-4 hidden">
                         <div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-cyan-500 mx-auto"></div>
                     </div>
                     <p id="error-message" class="text-red-500 text-sm mt-2 hidden">
                         Sorry, something went wrong. Please try again.
                     </p>
                 </div>
             </div>
         </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-950 py-8 text-center text-slate-500 border-t border-slate-800">
        <p>&copy; 2024 Dodi Hariyanto. All rights reserved.</p>
    </footer>

    <script>
        // Hero background animation (3D Grid)
        window.onload = function() {
            const canvas = document.getElementById('hero-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            camera.position.z = 5;
            const lineMaterial = new THREE.LineBasicMaterial({ color: 0x06b6d4, transparent: true, opacity: 0.2 });
            const lineGeometry = new THREE.BufferGeometry();
            const points = [];
            const gridSize = 100;
            const gridSpacing = 2;
            for (let i = -gridSize; i <= gridSize; i += gridSpacing) {
                points.push(new THREE.Vector3(i, -gridSize, 0));
                points.push(new THREE.Vector3(i, gridSize, 0));
                points.push(new THREE.Vector3(-gridSize, i, 0));
                points.push(new THREE.Vector3(gridSize, i, 0));
            }
            lineGeometry.setFromPoints(points);
            const line = new THREE.LineSegments(lineGeometry, lineMaterial);
            line.rotation.x = Math.PI / 2;
            line.position.y = -50;
            scene.add(line);
            const pointLight = new THREE.PointLight(0x06b6d4, 1.5, 100, 2);
            pointLight.position.set(0, 0, 5);
            scene.add(pointLight);
            function animate() {
                requestAnimationFrame(animate);
                line.position.z += 0.1;
                if (line.position.z > 0) {
                    line.position.z = -20;
                }
                renderer.render(scene, camera);
            }
            animate();
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });
        };

        // Intersection Observer for card animations
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.2
        });

        document.querySelectorAll('.animated-card').forEach(card => {
            observer.observe(card);
        });

        // Function to handle chat with Gemini API
        document.addEventListener('DOMContentLoaded', () => {
            const questionInput = document.getElementById('questionInput');
            const submitBtn = document.getElementById('submitBtn');
            const chatMessages = document.getElementById('chat-messages');
            const loadingSpinner = document.getElementById('loading-spinner');
            const errorMessage = document.getElementById('error-message');

            const appendMessage = (role, text) => {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('p-3', 'rounded-lg', 'mb-2');
                if (role === 'user') {
                    messageDiv.classList.add('bg-slate-700', 'text-right', 'ml-auto', 'max-w-[80%]');
                } else {
                    messageDiv.classList.add('bg-slate-900', 'text-left', 'mr-auto', 'max-w-[80%]');
                }
                messageDiv.textContent = text;
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            };

            const handleRequest = async () => {
                const userQuestion = questionInput.value.trim();
                if (!userQuestion) return;

                appendMessage('user', userQuestion);
                questionInput.value = '';
                errorMessage.classList.add('hidden');
                loadingSpinner.classList.remove('hidden');

                const prompt = `Act as Dodi Hariyanto, a seasoned logistics and supply chain professional with 15+ years of experience. Your expertise includes procurement, bonded zone compliance, cost reduction, and project management. The user has asked a question about your field. Answer the user's question concisely and professionally, drawing from your experience. The user's question is: "${userQuestion}"`;

                try {
                    const payload = {
                        contents: [{ parts: [{ text: prompt }] }],
                    };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`API error: ${response.status} ${response.statusText}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    if (candidate && candidate.content?.parts?.[0]?.text) {
                        const generatedText = candidate.content.parts[0].text;
                        appendMessage('ai', generatedText);
                    } else {
                        throw new Error('No content returned from API.');
                    }

                } catch (error) {
                    console.error('Error fetching data from Gemini API:', error);
                    errorMessage.textContent = 'Sorry, I couldn\'t get an answer right now. Please try again later.';
                    errorMessage.classList.remove('hidden');
                } finally {
                    loadingSpinner.classList.add('hidden');
                }
            };

            submitBtn.addEventListener('click', handleRequest);
            questionInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleRequest();
                }
            });
        });

        // Chart.js Configuration
        const chartOptions = {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    labels: {
                        color: '#94a3b8',
                        font: {
                            family: 'Inter',
                            weight: '500'
                        }
                    }
                }
            },
            animation: {
                duration: 2000,
                easing: 'easeInOutQuart'
            },
            scales: {
                x: {
                    display: false,
                    grid: {
                        color: 'rgba(255, 255, 255, 0.1)'
                    },
                    ticks: {
                        color: '#94a3b8'
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        color: 'rgba(255, 255, 255, 0.1)'
                    },
                    ticks: {
                        color: '#94a3b8'
                    }
                }
            }
        };

        // Intersection Observer for Charts
        const chartObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const chartId = entry.target.id;
                    if (chartId === 'globalSourcingChart') createGlobalSourcingChart();
                    if (chartId === 'costReductionChart') createCostReductionChart();
                    if (chartId === 'supplierCountChart') createSupplierCountChart();
                    if (chartId === 'shippingCostChart') createShippingCostChart();
                    chartObserver.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.5 // Trigger when 50% of the element is visible
        });

        document.querySelectorAll('canvas').forEach(canvas => {
            chartObserver.observe(canvas);
        });

        function createGlobalSourcingChart() {
            const ctx = document.getElementById('globalSourcingChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Local Sourcing', 'Global Sourcing'],
                    datasets: [{
                        data: [70, 30],
                        backgroundColor: ['#06b6d4', '#94a3b8'],
                        hoverBackgroundColor: ['#22d3ee', '#cbd5e1'],
                        borderWidth: 0,
                    }]
                },
                options: {
                    ...chartOptions,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#94a3b8',
                                font: {
                                    family: 'Inter',
                                    weight: '500'
                                }
                            }
                        },
                        tooltip: {
                             backgroundColor: 'rgba(15, 23, 42, 0.9)',
                             titleColor: '#cbd5e1',
                             bodyColor: '#94a3b8',
                             borderColor: '#1e293b',
                             borderWidth: 1,
                             usePointStyle: true
                        }
                    },
                    animation: {
                        animateRotate: true,
                        animateScale: true,
                        duration: 2000
                    }
                }
            });
        }
        function createCostReductionChart() {
            const ctx = document.getElementById('costReductionChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['Before Project', 'After Project'],
                    datasets: [{
                        label: 'Total Cost (USD)',
                        data: [100000, 78000],
                        backgroundColor: ['#475569', '#06b6d4'],
                        borderWidth: 0,
                        barThickness: 50,
                    }]
                },
                options: {
                    ...chartOptions,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                             backgroundColor: 'rgba(15, 23, 42, 0.9)',
                             titleColor: '#cbd5e1',
                             bodyColor: '#94a3b8',
                             borderColor: '#1e293b',
                             borderWidth: 1,
                             callbacks: {
                                 title: (context) => context[0].label,
                                 label: (context) => `Total Cost: $${context.raw.toLocaleString()}`
                             }
                        }
                    },
                    scales: {
                        x: { display: true, grid: { display: false }, ticks: { color: '#94a3b8' } },
                        y: {
                            display: true,
                            beginAtZero: true,
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: {
                                color: '#94a3b8',
                                callback: (value) => `$${value / 1000}K`
                            }
                        }
                    }
                }
            });
        }
        function createSupplierCountChart() {
            const ctx = document.getElementById('supplierCountChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Month 1', 'Month 2', 'Month 3', 'Month 4', 'Month 5', 'Month 6'],
                    datasets: [{
                        label: 'New Suppliers Onboarded',
                        data: [2, 4, 7, 8, 10, 15],
                        borderColor: '#06b6d4',
                        backgroundColor: 'rgba(6, 182, 212, 0.2)',
                        tension: 0.4,
                        fill: true,
                    }]
                },
                options: {
                    ...chartOptions,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: 'rgba(15, 23, 42, 0.9)',
                            titleColor: '#cbd5e1',
                            bodyColor: '#94a3b8',
                            borderColor: '#1e293b',
                            borderWidth: 1
                        }
                    },
                    scales: {
                        x: { display: true, grid: { display: false }, ticks: { color: '#94a3b8' } },
                        y: {
                            display: true,
                            beginAtZero: true,
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#94a3b8', precision: 0 }
                        }
                    }
                }
            });
        }
        function createShippingCostChart() {
            const ctx = document.getElementById('shippingCostChart').getContext('2d');
            new Chart(ctx, {
                type: 'polarArea',
                data: {
                    labels: ['Air Freight', 'Sea Freight', 'Combined Transport'],
                    datasets: [{
                        data: [40, 25, 35],
                        backgroundColor: ['#06b6d4', '#475569', '#94a3b8'],
                        borderWidth: 0,
                    }]
                },
                options: {
                    ...chartOptions,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#94a3b8',
                                font: {
                                    family: 'Inter',
                                    weight: '500'
                                }
                            }
                        },
                        tooltip: {
                             backgroundColor: 'rgba(15, 23, 42, 0.9)',
                             titleColor: '#cbd5e1',
                             bodyColor: '#94a3b8',
                             borderColor: '#1e293b',
                             borderWidth: 1,
                             callbacks: {
                                 label: (context) => `${context.label}: ${context.raw}%`
                             }
                        }
                    },
                    animation: {
                        animateRotate: true,
                        animateScale: true,
                        duration: 2000
                    },
                    scales: {
                        r: {
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#94a3b8', backdropColor: 'rgba(2, 6, 23, 0.8)' }
                        }
                    }
                }
            });
        }

        // --- NEW 3D Manufacturing Animation ---
        function createManufacturingAnimation() {
            const canvas = document.getElementById('manufacturing-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            camera.position.set(0, 15, 25);
            camera.lookAt(0, 0, 0);

            // Lighting
            scene.add(new THREE.AmbientLight(0xffffff, 0.4));
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight.position.set(20, 30, 10);
            scene.add(directionalLight);

            // Conveyor Belt
            const conveyorMaterial = new THREE.MeshStandardMaterial({ color: 0x475569 });
            const conveyorGeometry = new THREE.BoxGeometry(30, 1, 5);
            const conveyor = new THREE.Mesh(conveyorGeometry, conveyorMaterial);
            conveyor.position.y = 0.5;
            scene.add(conveyor);

            // Robotic Arm
            const baseMaterial = new THREE.MeshStandardMaterial({ color: 0x64748b });
            const armMaterial = new THREE.MeshStandardMaterial({ color: 0x94a3b8 });
            
            const base = new THREE.Mesh(new THREE.BoxGeometry(4, 2, 4), baseMaterial);
            base.position.set(10, 1.5, 0);
            scene.add(base);

            const lowerArm = new THREE.Mesh(new THREE.BoxGeometry(1, 15, 1), armMaterial);
            lowerArm.position.set(0, 7.5, 0);
            base.add(lowerArm);

            const upperArm = new THREE.Mesh(new THREE.BoxGeometry(1, 12, 1), armMaterial);
            upperArm.position.set(0, 6, 0);
            upperArm.rotation.z = Math.PI / 4;
            lowerArm.add(upperArm);

            const gripper = new THREE.Mesh(new THREE.BoxGeometry(1, 3, 1), armMaterial);
            gripper.position.set(0, 1.5, 0);
            gripper.rotation.z = Math.PI / 2;
            upperArm.add(gripper);

            // Product cube
            const productMaterial = new THREE.MeshStandardMaterial({ color: 0xf59e0b });
            const product = new THREE.Mesh(new THREE.BoxGeometry(2, 2, 2), productMaterial);
            product.position.set(-14, 1.5, 0);
            scene.add(product);

            let time = 0;
            const animate = () => {
                requestAnimationFrame(animate);

                time += 0.01;

                // Move product on conveyor
                product.position.x = -14 + (Math.sin(time * 0.5) + 1) * 12;

                // Rotate robot arm
                const armAngle = Math.sin(time * 0.8) * 0.5;
                lowerArm.rotation.z = -armAngle;
                upperArm.rotation.z = Math.abs(armAngle) * 2 - Math.PI / 4;

                renderer.render(scene, camera);
            };

            const resizeCanvas = () => {
                const parent = canvas.parentElement;
                canvas.width = parent.clientWidth;
                canvas.height = parent.clientHeight;
                camera.aspect = canvas.clientWidth / canvas.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(canvas.clientWidth, canvas.clientHeight);
                renderer.render(scene, camera);
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        resizeCanvas();
                        animate();
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });
            observer.observe(canvas);
            window.addEventListener('resize', resizeCanvas);
        }

        // --- NEW 3D Warehousing Animation ---
        function createWarehousingAnimation() {
            const canvas = document.getElementById('warehousing-canvas');
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, canvas.clientWidth / canvas.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true, alpha: true });
            renderer.setSize(canvas.clientWidth, canvas.clientHeight);
            renderer.setPixelRatio(window.devicePixelRatio);
            camera.position.set(25, 20, 25);
            camera.lookAt(0, 0, 0);
            
            // Lighting
            scene.add(new THREE.AmbientLight(0xffffff, 0.4));
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
            directionalLight.position.set(20, 30, 10);
            scene.add(directionalLight);

            // Ground plane
            const planeGeometry = new THREE.PlaneGeometry(50, 50);
            const planeMaterial = new THREE.MeshStandardMaterial({ color: 0x1e293b });
            const plane = new THREE.Mesh(planeGeometry, planeMaterial);
            plane.rotation.x = -Math.PI / 2;
            scene.add(plane);

            // Shelves
            const shelfMaterial = new THREE.MeshStandardMaterial({ color: 0x475569 });
            const boxMaterial = new THREE.MeshStandardMaterial({ color: 0xf59e0b });
            const createShelf = (x, z) => {
                const shelfGroup = new THREE.Group();
                for (let i = 0; i < 4; i++) {
                    const shelf = new THREE.Mesh(new THREE.BoxGeometry(8, 0.5, 4), shelfMaterial);
                    shelf.position.y = i * 4 + 2;
                    shelfGroup.add(shelf);
                }
                shelfGroup.position.set(x, 0, z);
                scene.add(shelfGroup);
                return shelfGroup;
            };

            const shelves = [];
            shelves.push(createShelf(-15, -10));
            shelves.push(createShelf(15, -10));
            shelves.push(createShelf(-15, 10));
            shelves.push(createShelf(15, 10));

            // Forklift
            const forklift = new THREE.Group();
            const body = new THREE.Mesh(new THREE.BoxGeometry(4, 2, 2), new THREE.MeshStandardMaterial({ color: 0x06b6d4 }));
            const cab = new THREE.Mesh(new THREE.BoxGeometry(2, 2, 2), new THREE.MeshStandardMaterial({ color: 0x06b6d4 }));
            cab.position.set(0, 2, 0);
            body.add(cab);

            const forks = new THREE.Mesh(new THREE.BoxGeometry(4, 0.2, 0.5), new THREE.MeshStandardMaterial({ color: 0x94a3b8 }));
            forks.position.set(2, 0, 0);
            forklift.add(body);
            forklift.add(forks);
            forklift.position.set(0, 1, 0);
            scene.add(forklift);

            // Product Box
            const productBox = new THREE.Mesh(new THREE.BoxGeometry(2, 2, 2), new THREE.MeshStandardMaterial({ color: 0xf59e0b }));
            productBox.position.set(2, 1, 0);
            forks.add(productBox);

            // Animation
            let path = [
                { x: 0, z: 0 },
                { x: 15, z: 10 },
                { x: 15, z: 0 },
                { x: 0, z: 0 }
            ];
            let currentPathIndex = 0;
            let time = 0;

            const animate = () => {
                requestAnimationFrame(animate);

                time += 0.01;
                
                const startPoint = path[currentPathIndex];
                const endPoint = path[(currentPathIndex + 1) % path.length];
                
                const distance = new THREE.Vector3().subVectors(endPoint, startPoint).length();
                const speed = 0.5;
                const totalTime = distance / speed;

                const t = (time % totalTime) / totalTime;
                
                forklift.position.x = startPoint.x + (endPoint.x - startPoint.x) * t;
                forklift.position.z = startPoint.z + (endPoint.z - startPoint.z) * t;

                if (t > 0.99) {
                    currentPathIndex = (currentPathIndex + 1) % path.length;
                    time = 0;
                }

                renderer.render(scene, camera);
            };

            const resizeCanvas = () => {
                const parent = canvas.parentElement;
                canvas.width = parent.clientWidth;
                canvas.height = parent.clientHeight;
                camera.aspect = canvas.clientWidth / canvas.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(canvas.clientWidth, canvas.clientHeight);
                renderer.render(scene, camera);
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        resizeCanvas();
                        animate();
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });
            observer.observe(canvas);
            window.addEventListener('resize', resizeCanvas);
        }

        // --- 2D ML Animation ---
        function createMLAnimation() {
            const canvas = document.getElementById('ml-canvas');
            const ctx = canvas.getContext('2d');
            let dataPoints = [];
            let decisionLineX = 0;
            let animationFrameId;

            function resizeCanvas() {
                const parent = canvas.parentElement;
                canvas.width = parent.clientWidth;
                canvas.height = parent.clientHeight;
                draw();
            }

            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                dataPoints.forEach(point => {
                    ctx.beginPath();
                    ctx.arc(point.x, point.y, 4, 0, Math.PI * 2);
                    ctx.fillStyle = point.category === 'A' ? '#06b6d4' : '#f59e0b';
                    ctx.fill();
                    ctx.closePath();
                });
                ctx.beginPath();
                ctx.moveTo(decisionLineX, 0);
                ctx.lineTo(decisionLineX, canvas.height);
                ctx.strokeStyle = '#e11d48';
                ctx.lineWidth = 2;
                ctx.stroke();
                ctx.closePath();
                ctx.fillStyle = '#cbd5e1';
                ctx.font = '12px Inter';
                ctx.fillText("Category A", 10, 15);
                ctx.fillText("Category B", canvas.width - 70, 15);
            }

            function animateML() {
                if (dataPoints.length < 50) {
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height;
                    const category = x < canvas.width / 2 ? 'A' : 'B';
                    dataPoints.push({ x, y, category });
                }
                if (decisionLineX < canvas.width / 2) {
                    decisionLineX += 0.5;
                }
                draw();
                animationFrameId = requestAnimationFrame(animateML);
            }

            const mlObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        resizeCanvas();
                        animateML();
                        mlObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });
            mlObserver.observe(canvas);
            window.addEventListener('resize', resizeCanvas);
        }

        // Initialize 3D animations
        createManufacturingAnimation();
        createWarehousingAnimation();
        createMLAnimation();
    </script>
</body>
</html>